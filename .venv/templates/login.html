<!DOCTYPE html>
<html lang="br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/login.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="/static/flash_messages.css">
    <title>Login</title>
    <link rel="icon" type="image/png" href="/static/img/novo_icone_soja-removebg-preview.png">
</head>

<body>
        
    {% with messages = get_flashed_messages(with_categories=true, category_filter=["error", "success"]) %}
        {% if messages %}
            {% for category, message in messages %}
                {% if category == "error" %}
                <div class="erro">
                    <h3>{{ message }}</h3>
                    <a href="/login">X</a>
                </div>
                {% elif category == "success" %}
                    <div class="certo">
                        <h3>{{ message }}</h3>
                        <a href="/login">X</a>
                    </div>
                {% endif %}
            {% endfor %}
        {% endif%}
    {% endwith %}

        <div class="formulario">
          <div  class="forms">
            <h2>Login</h2>
            <form action="" method="POST">
                <div class="input">
                    <input type="text" id="nome" name="nome" placeholder=" ">
                    <label for="nome">Nome</label>
                </div>
                <div class="input">
                    <button type="button" id="ver_senha" onclick="mostrarOcultarSenha()"><img src="../static/img/invisible.png"></button>
                    <input type="password" id="senha" name="senha" placeholder=" ">
                    <label for="senha">Senha</label>
                </div>
                <div class="submit">
                    <input type="submit" value="Entrar">
                </div>
                </form>
            </div>  
        </div>
        
        <script>
            function mostrarOcultarSenha() {
            var senha = document.getElementById('senha');
            var botao = document.getElementById('ver_senha'); 
            var imagem = botao.querySelector('img'); 
            console.log(senha.type);

            console.log('Função mostrarOcultarSenha foi chamada.');

            if (senha.type === 'password') {
                senha.setAttribute('type', 'text');
                imagem.setAttribute('src', '../static/img/eye.png'); 
            } else {
                senha.type = 'password';
                imagem.setAttribute('src', '../static/img/invisible.png'); 
                }
            }
        </script>

</body>
</html>